img=imread('grid.bmp');
a=zeros(384,384);
a(1:256,1:256)=img;
b=zeros(384,384);
b(65:320,65:320)=img;
fa=fft2(a);
fb=fft2(b);
h=lpfilter('gaussian',384,384,20);
ga=real(ifft2(fa.*h));
gb=real(ifft2(fb.*h));
subplot(1,2,1)
imshow(ga,[])
subplot(1,2,2)
imshow(gb,[])
gga=ga(1:256,1:256);
ggb=gb(65:320,65:320);
figure()
imshow(round(gga)==round(ggb));